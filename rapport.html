<html>
<head>
    <title>IFT3911 H25 DM1</title>
    <style type="text/css">
        table {
            border: outset 2px black;
            border-collapse: collapse;
        }
        th {
            border-bottom: double 2px black;
        }
        td { 
            border-bottom: solid 1px black;
        }
        .first_col {
            border-right: double 2px black;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">
        IFT 3911 - Hiver 2025 - Devoir 1
    </h1>
    <h2>Information générale</h2>
    <p>
        <span style="font-weight: bold;">Nom de l'équipe: </span><i>Lilas</i>
    </p>
    <p>
        <a href="https://github.com/SweiiZen/IFT3911">Lien vers dépôt GitHub</a><br>
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Arman <======= TODO
        <br />
        <span style="font-weight: bold;">Matricule: </span>20240160 <======== TODO
        <br />
        <span style="font-weight: bold;">Courriel: </span>arman.nunez@umontreal.ca <========= TODO
        <br />
        <span style="font-weight: bold;">temps mis: </span> 25h(∞) <-------- TODO
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Byungsuk Min
        <br />
        <span style="font-weight: bold;">Matricule: </span>20234231
        <br />
        <span style="font-weight: bold;">Courriel: </span>byungsuk.min@umontreal.ca
        <br />
        <span style="font-weight: bold;">temps mis: </span>33h <======== TODO
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Shayan Nicolas Hollet
        <br />
        <span style="font-weight: bold;">Matricule: </span>20146766
        <br />
        <span style="font-weight: bold;">Courriel: </span>shayan.nicolas.hollet@umontreal.ca
        <br />
        <span style="font-weight: bold;">temps mis: </span>20h
    </p>
    <h2>Distribution des tâches</h2>
    <p>
        <span style="font-weight: bold;">Soumissionaire: </span>Shayan Nicolas Hollet
    </p>
    <table cellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">Tâche</th>
                <th>Arman</th>
                <th>Byungsuk</th>
                <th>Shayan</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="first_col">1. Analyse</td>
                <td>35%</td>
                <td>35%</td>
                <td>30%</td>
            </tr>
            <tr>
                <td class="first_col">2. Design</td>
                <td>50%</td>
                <td>25%</td>
                <td>25%</td>
            </tr>
            <tr>
                <td class="first_col">3. Contraintes</td>
                <td>0%</td>
                <td>55%</td>
                <td>40%</td>
            </tr>
            <tr>
                <td class="first_col">4. Justification</td>
                <td>70%</td>
                <td>30%</td>
                <td>0%</td>
            </tr>
        </tbody>
    </table>

    <h2>Tâche 1 : Diagramme de classe conceptuel & DSS</h2>
    <!-- Diagramme de classe conceptuel -->
    <h3>Diagramme de classe conceptuel</h3>
    <ul>
        <li>
            Voici un <a href="Domaine/vpp/DM1_diagrammeDeClasseConceptuel.vpp">lien</a> vers la solution.
        </li>
    </ul>
    <img src="Domaine/images/DG_classe_conceptuel.png" width="600px" height="400px" alt="Diagramme de classe conceptuel" />

    <!-- DSS -->
    <h3>Diagramme de séquence système : Admin</h3>
    <ol>
        <li>
            <h4>DSS admin: Création, modification, suppression d'un Hub (aéroport, port, gare)</h4>
            <img src="Domaine/images/DSS_admin_create_hub.png" width="600px" height="400px" alt="DSS Admin - Création Hub" />
            <img src="Domaine/images/DSS_admin_modify_hub.png" width="600px" height="400px" alt="DSS Admin - Modification Hub" />
            <img src="Domaine/images/DSS_admin_delete_hub.png" width="600px" height="400px" alt="DSS Admin - Suppression Hub" />
        </li>
        <li>
            <h4>DSS admin: Création, modification, suppression d'un OpérateurTransport (CompagnieAerienne, CompagnieCroisiere, LigneTrain)</h4>
            <img src="Domaine/images/DSS_admin_create_operateur.png" width="600px" height="400px" alt="DSS Admin - Création Opérateur" />
            <img src="Domaine/images/DSS_admin_modify_operateur.png" width="600px" height="400px" alt="DSS Admin - Modification Opérateur" />
            <img src="Domaine/images/DSS_admin_delete_operateur.png" width="600px" height="400px" alt="DSS Admin - Suppression Opérateur" />
        </li>
        <li>
            <h4>DSS admin: Création, modification, suppression d'un OpérateurTransport (CompagnieAerienne, CompagnieCroisiere, LigneTrain)</h4>
            <img src="Domaine/images/DSS_admin_create_liaison.png" width="600px" height="400px" alt="DSS Admin - Création Liaison" />
            <img src="Domaine/images/DSS_admin_modify_liaison.png" width="600px" height="400px" alt="DSS Admin - Modification Liaison" />
            <img src="Domaine/images/DSS_admin_delete_liaison.png" width="600px" height="400px" alt="DSS Admin - Suppression Liaison" />
        </li>
        <li>
            <h4>DSS admin: Création d'une Section (d'un avion, d'un paquebot, d'un train)</h4>
            <img src="Domaine/images/DSS_admin_create_transport.png" width="600px" height="400px" alt="DSS Admin - Création Section" />
        </li>
    </ol>

    <h3>Diagramme de séquence système : Client</h3>
    <ol>
        <li>
            <h4>DSS client: vérification</h4>
            <img src="Domaine/images/DSS_client_verif.png" width="600px" height="400px" alt="DSS Client - Vérification" />
        </li>
        <li>
            <h4>DSS client: réservation</h4>
            <img src="Domaine/images/DSS_client_reservation.png" width="600px" height="400px" alt="DSS Client - Réservation" />
        </li>
        <li>
            <h4>DSS client: paiement</h4>
            <img src="Domaine/images/DSS_client_paiement.png" width="600px" height="400px" alt="DSS Client - Paiement" />
        </li>
    </ol>
    
    <h2>Tâche 2 : Diagramme de classe logiciel, Diagrammes de séquence logiciel, Diagramme de paquets</h2>
    <h3>Diagramme de classe logiciel</h3>
    <ul>
        <img src="Design/images/DG_logiciel.png" width="800px" height="500px" alt="Diagramme de classe logiciel" />
        <li>
            Voici un <a href="Design/vpp/DGClasseLogiciel.vpp">lien</a> vers la solution.
        </li>
    </ul>

    <h3>Diagrammes de séquence logiciel</h3>
    <ol>
        <li>
            <h4>DS : Vérification (Arman)</h4>
            <img src="Design/images/DS_logiciel_verif.png" width="600px" height="400px" alt="DS Vérification" />
        </li>
        <li>
            <h4>DS : Réservation (Min)</h4>
            <img src="Design/images/DS_logiciel_reservation.png" width="1000px" height="500px" alt="DS Réservation" />
        </li>
        <li>
            <h4>DS : Paiement (Shayan)</h4>
            <img src="Design/images/DS_logiciel_paiement.png" width="800px" height="400px" alt="DS Paiement" />
        </li>
    </ol>

    <h3>Diagrammes de paquets</h3>
    <ol>
        <li>
            <img src="Design/images/diagramme_paquets1.png" width="600px" height="400px" alt="Diagramme de paquets 1" />
        </li>
        <li>
            <img src="Design/images/diagramme_paquets2.png" width="600px" height="400px" alt="Diagramme de paquets 2" />
        </li>
    </ol>

    <h2>Tâche 3 : OCL</h2>
    <h3>OCL Admin - Contraintes</h3>
    
    <div class="constraint">
        <h4>Identifiants uniques pour Aéroports, Ports, Gares</h4>
        <pre>context Aeroport
    inv: Aeroport.allInstances() -> isUnique(ID)</pre>
    </div>

    <div class="constraint">
        <h4>Un aéroport/port/gare est identifié par trois lettres uniques à chaque aéroport [OCL]  (1.1.1, 1.2.1, 1.3.1)</h4>
        <pre>context Aeroport
    inv: self.ID.oclType() = String implies self.ID.size() = 3</pre>
    </div>

    <div class="constraint">
        <h4>La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique est unique à chaque vol au sein de la même compagnie [OCL]</h4>
        <pre>context CompagnieAerienne 
    inv: self.liaisons.allInstances() -> forAll(v1, v2 : Vol | v1 <> v2 implies v1.ID.substring(1, 3) <> v2.ID.substring(1, 3))
context CompagnieAerienne
    inv: self.liaisons.allInstances() -> forAll(v1, v2 : Vol | v1 <> v2 implies v1.ID.substring(4, 6) = v2.ID.substring(4, 6))</pre>
    </div>

    <div class="constraint">
        <h4>L'aéroport de départ et d'arrivée d'un vol doit être différent [OCL]</h4>
        <pre>context Vol
    inv: Vol.allinstances() -> forAll(a : Aeroport | ! a.origine -> includesAll(a.destination))</pre>
    </div>

    <div class="constraint">
        <h4>Tous les sièges d'une même section d'un avion/paquebot/train ont le même prix [OCL]  (1.1.5, 1.2.6, 1.3)</h4>
        <pre>context Section
    inv: self.places -> forAll(s1, s2 : Siege | s1 <> s2 implies s1.prix = s2.prix)</pre>
    </div>

    <div class="constraint">
        <h4>Un itinéraire ne peut pas durer plus de 21 jours [OCL]</h4>
        <pre>context Itineraire
    inv: self.date_depart.toInteger() - self.date_arrivee.toInteger() <= 21</pre>
    </div>

    <div class="constraint">
        <h4>Chaque itinéraire visite une suite de ports fixes. Le port de départ et d'arrivée doit être le même [OCL]</h4>
        <pre>context Itineraire
    inv: Itineraire.allinstances() -> forAll(p : Port | p.origine -> includesAll(p.destination))</pre>
    </div>

    <div class="constraint">
        <h4>Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas [OCL]</h4>
        <pre>context Itineraire
    inv: self.transports -> forAll(p1, p2 : Paquebot | p1 = p2 implies p1.date_arrivee.toInteger() <= p2.date_depart.toInteger())</pre>
    </div>

    <h3>OCL Client - Contraintes</h3>
    
    <div class="constraint">
        <h4>Réservation d'une place (siège ou cabine) [OCL]</h4>
        <pre>context Reservation::reserver(client : Client, place : Place) : Reservation
  pre:
    place.status = Status::Libre
    client <> null
  post:
    place.status = Status::Reserve
    result.numero <> '' and
    Reservation.allInstances() -> forAll(r | r <> result implies r.numero <> result.numero)
    result.date = CurrentDateTime()
    result.client = client</pre>
    </div>
    
    <div class="constraint">
        <h4>Paiement d'une place (siège ou cabine) [OCL]</h4>
        <pre>context Reservation::payer()
  pre:
    self.est_paye = false
    CurrentDateTime() <= self.date + 24
  post:
    self.est_paye = true
    self.place.status = Status::Confirme</pre>
    </div>
    
    <div class="constraint">
        <h4>Calcul du nombre de places/cabines disponibles [OCL]</h4>
        <pre>context Liaison::getPlacesDisponibles(section : Section) : Integer
  body:
    self.transport.sections->select(s | s = section).places->select(p | p.status = Status::Libre)->size()</pre>
    </div>

    <h2>Tâche 4 : Justifications</h2>
    <h3>Diagramme de classe logiciel</h3>
    <ul>
        <li><strong>Deux contrôleurs :</strong> Le choix de mettre deux contrôleurs nous semble logique, car il s'agit d'un logiciel qui se veut être manipulé par deux vues différentes : Admin et Client. Un Client ne peut avoir les mêmes pouvoirs qu'un Admin, et un Admin ne souhaite pas effectuer les mêmes actions qu'un Client, mais plutôt gérer le système dans son ensemble.</li>
        <br>
        <li><strong>Distinction entre UserController et Client :</strong> La distinction entre UserController et Client s'est faite selon cette logique : un utilisateur du logiciel n'est pas forcément un client et peut simplement rechercher des renseignements sur les différentes propositions de voyage de l'application, sans effectuer de réservation. Un utilisateur devient client lorsqu'il effectue une réservation, instanciant ainsi un objet Client et permettant au UserController d'accéder aux informations client.</li>
        <br>
        <li><strong>Pourquoi un Catalogue ?</strong> Dans notre application, pour effectuer une action, il faut d'abord passer par un catalogue proposant des liaisons. Il fait donc sens de regrouper ces données dans une classe Catalogue, accessible via des vues distinctes (AdminController et UserController).</li>
        <br>
        <li><strong>Réservation de place :</strong> Pour réserver une place, le client doit suivre plusieurs étapes (sélection de la liaison, de la section, puis de la place). Ce processus, bien que laborieux, reflète la complexité d'une réservation réelle et garantit que le client dispose de toutes les informations nécessaires.</li>
        <br>
        <li><strong>Classe Client :</strong> La classe Client permet à un utilisateur de consulter directement ses réservations via son compte, simplifiant l'accès aux informations et évitant de repasser par toutes les étapes du processus de réservation.</li>
        <br>
        <li><strong>Héritages :</strong> Par exemple, Vol hérite de Liaison, et Itinéraire ainsi que Trajet héritent de LiaisonEscale (qui hérite de Liaison) afin de refléter les similitudes entre les types de voyages. De même, Section se divise en sous-classes (SectionDisposable et SectionPaquebot) pour tenir compte des différences de disposition entre les transports. Cette distinction permet de préparer d'éventuelles évolutions futures du système.</li>
    </ul>

    <h3>Diagramme de paquets</h3>
    <ol>
        <h4>OrganisationVoyages</h4>
        <p>Ce paquet représente tout ce qui a trait à la gestion des liaisons proposées par notre application.</p>
        <ul>
            <li>"Organisation" indique que les classes qui le composent sont responsables de la gestion des liaisons et des voyages disponibles.</li>
            <li>"Voyages" précise qu’il s’agit des déplacements, lesquels peuvent comporter plusieurs liaisons.</li>
        </ul>
        
        <h4>Controle</h4>
        <p>Ce paquet regroupe les différentes vues de l'application.</p>
        <ul>
            <li>"AdminController" pour la vue Admin.</li>
            <li>"UserController" pour la vue utilisateur/client.</li>
        </ul>
    
        <h4>Réservations</h4>
        <p>Ce paquet concerne les réservations effectuées par les clients.</p>
        <ul>
            <li>"Réservations" regroupe les entités impliquées dans le processus de réservation.</li>
        </ul>
        
        <h4>Transports</h4>
        <p>Ce paquet contient les moyens de transport eux-mêmes (avions, trains, paquebots) ainsi que leur composition.</p>
        <ul>
            <li>"Transport" désigne les véhicules ou engins, en se focalisant sur leur conception et composition.</li>
        </ul>
        
        <h4>Data</h4>
        <p>Ce paquet regroupe l’ensemble des stockeurs de données utiles à l'application.</p>
        <ul>
            <li>"Data" indique l'endroit où sont récupérées les informations nécessaires.</li>
            <li>Il ne gère pas directement les opérations, mais spécifie les entités contenant les données, notamment via le Catalogue central.</li>
        </ul>
    </ol>
</body>
</html>