<html>
<head>
    <title>IFT3911 H25 DM1</title>
    <style type="text/css">
        table
        {
            border: outset 2px black;
            border-collapse: collapse;
        }
        th
        {
            border-bottom: double 2px black;
        }
        td
        { 
            border-bottom: solid 1px black;
        }
        .first_col
        {
            border-right: double 2px black;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">
        IFT 3911 - Hiver 2025 - Devoir 1</h1>
    <h2>
        Information générale</h2>
    <p>
        <span style="font-weight: bold;">Nom de l'équipe: </span><i>Lilas</i>
    </p>
    <p>
        <a href="https://github.com/SweiiZen/IFT3911">Lien vers dépôt GitHub</a><br>
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Arman <======= TODO
        <br />
        <span style="font-weight: bold;">Matricule: </span>20240160 <======== TODO
        <br />
        <span style="font-weight: bold;">Courriel: </span>arman.nunez@umontreal.ca <========= TODO
        <br />
        <span style="font-weight: bold;">temps mis: </span> ∞ <-------- TODO
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Byungsuk Min
        <br />
        <span style="font-weight: bold;">Matricule: </span>20234231
        <br />
        <span style="font-weight: bold;">Courriel: </span>byungsuk.min@umontreal.ca
        <br />
        <span style="font-weight: bold;">temps mis: </span>33h <======== TODO
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Shayan Nicolas Hollet
        <br />
        <span style="font-weight: bold;">Matricule: </span>20146766
        <br />
        <span style="font-weight: bold;">Courriel: </span>shayan.nicolas.hollet@umontreal.ca
        <br />
        <span style="font-weight: bold;">temps mis: </span>20h
    </p>
    <h2>
        Distribution des tâches</h2>
    <p>
        <span style="font-weight: bold;">Soumissionaire: </span>Shayan Nicolas Hollet
    </p>
    <table cellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">
                    Tâche
                </th>
                <th>
                    Arman
                </th>
                <th>
                    Byungsuk
                </th>
                <th>
                    Shayan
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="first_col">
                    1. Analyse
                </td>
                <td>
                    35%
                </td>
                <td>
                    35%
                </td>
                <td>
                    30%
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    2. Design
                </td>
                <td>
                    50%
                </td>
                <td>
                    25%
                </td>
                <td>
                    25%
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    3. Contraintes
                </td>
                <td>
                    10%
                </td>
                <td>
                    55%
                </td>
                <td>
                    40%
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    4. Justification
                </td>
                <td>
                    40%
                </td>
                <td>
                    30%
                </td>
                <td>
                    0%
                </td>
            </tr>
        </tbody>
    </table>

    <h2>Tâche 1 : Diagramme de classe conceptuel & DSS</h2>
    <!-- DG classe conceptuel -->
    <h3>Diagramme de classe conceptuel</h3>
    <ul>
        <li>Voici un <a href="vpp_files/DM1/DM1_diagrammeDeClasseConceptuel.vpp">lien</a> vers la solution. <======== TODO </li>
    </ul>
    <img src="Domaine/images/DG_classe_conceptuel.png" width="600px" height="400px" />

    <!-- DSS -->
    <h3>Diagramme de séquence système : Admin</h3>
    <ol>
        <li>
            <h4>DSS admin: Création, modification, suppression d'un Hub (aéroport, port, gare)</h4>
            <img src="Domaine/images/DSS_admin_create_hub.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_modify_hub.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_delete_hub.png" width="600px" height="400px" />
        </li>

        <li>
            <h4>DSS admin: Création, modification, suppression d'un OpérateurTransport (CompagnieAerienne, CompagnieCroisiere, LigneTrain)</h4>
            <img src="Domaine/images/DSS_admin_create_operateur.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_modify_operateur.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_delete_operateur.png" width="600px" height="400px" />
        </li>

        <li>
            <h4>DSS admin: Création, modification, suppression d'un OpérateurTransport (CompagnieAerienne, CompagnieCroisiere, LigneTrain)</h4>
            <img src="Domaine/images/DSS_admin_create_liaison.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_modify_liaison.png" width="600px" height="400px" />
            <img src="Domaine/images/DSS_admin_delete_liaison.png" width="600px" height="400px" />
        </li>

        <li>
            <h4>DSS admin: Création d'une Section (d'un avion, d'un paquebot d'un train)</h4>
            <img src="Domaine/images/DSS_admin_create_transport.png" width="600px" height="400px" />
        </li>
    </ol>

    <h3>Diagramme de séquence système : Client</h3>
    <ol>
        <li>
            <h4>DSS cleint: vérification</h4>
            <img src="Domaine/images/DSS_client_verif.png" width="600px" height="400px" />
        </li>
        <li>
            <h4>DSS cleint: réservation</h4>
            <img src="Domaine/images/DSS_client_reservation.png" width="600px" height="400px" />
        </li>
        <li>
            <h4>DSS cleint: paiement</h4>
            <img src="Domaine/images/DSS_client_paiement.png" width="600px" height="400px" />
        </li>
    </ol>
    
    
    <h2>Tâche 2 : Diagramme de classe logiciel, Diagrammes de séquence logiciel, Diagramme de paquets</h2>
    <h3>Diagramme de classe logiciel</h3>
    <ul>
        <img src="Design/images/DG_logiciel.png" width="800px" height="500px" />
        <li>Voici un <a href="">lien</a> vers la solution. <============ TODO </li>
    </ul>

    <h3>Diagrammes de séquence logiciel</h3>
    <ol>
        <li>
            <h4>DS : Vérification (Arman)</h4>
            <img src="Design/images/DS_logiciel_verif.png" width="600px" height="400px" />
        </li>

        <li>
            <h4>DS : Réservation (Min)</h4>
            <img src="Design/images/DS_logiciel_reservation.png" width="1000px" height="500px" />
        </li>

        <li>
            <h4>DS : Paiement (Shayan)</h4>
            <img src="Design/images/DS_logiciel_paiement.png" width="800px" height="400px" />
        </li>
    </ol>

    <h3>Diagrammes de paquets</h3>
    <ol>
        <img src="" width="600px" height="400px" />
        <img src="" width="600px" height="400px" />
    </ol>

    <h2>Tâche 3 : OCL</h2>
    <h3>OCL Admin - Contraintes</h3>
    
        <div class="constraint">
            <h4>Identifiants uniques pour Aéroports, Ports, Gares</h4>
            <pre>context Aeroport
    inv: Aeroport.allInstances() -> isUnique(ID)</pre>
        </div>

        <div class="constraint">
            <h4>Un aéroport/port/gare est identifié par trois lettres uniques à chaque aéroport [OCL]  (1.1.1, 1.2.1, 1.3.1)</h4>
            <pre>context Aeroport
    inv: self.ID.oclType() = String implies self.ID.size() = 3</pre>
        </div>

        <div class="constraint">
            <h4>La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique est unique à chaque vol au sein de la même compagnie [OCL] </h4>
            <pre>context CompagnieAerienne 
    inv: self.liaisons.allInstances() -> forAll(v1, v2 : Vol | v1 <> v2 implies v1.ID.substring(1, 3) <> v2.ID.substring(1, 3))</pre>
            <pre>context CompagnieAerienne
    inv: self.liaisons.allInstances() -> forAll(v1, v2: Vol | v1<> v2 implies v1.ID.substring(4, 6) = v2.ID.substring(4, 6))</pre>
        </div>

        <div class="constraint">
            <h4>L'aéroport de départ et d'arrivée d'un vol doit être différent [OCL]</h4>
            <pre>context Vol
    inv: Vol.allinstances() -> forAll(a : Aeroport | ! a.origine -> includesAll(a.destination))</pre>
        </div>

        <div class="constraint">
            <h4>Tous les sièges d'une même section d'un avion/paquebot/train ont le même prix [OCL]  (1.1.5, 1.2.6, 1.3)</h4>
            <pre>context Section
    inv: self.places -> forAll(s1, s2 : Siege | s1 <> s2 implies s1.prix = s2.prix)</pre>
        </div>

        <div class="constraint">
            <h4>Un itinéraire ne peut pas durer plus de 21 jours [OCL]</h4>
            <pre>context Itineraire
    inv: self.date_depart.toInteger() - self.date_arrivee.toInteger() <= 21</pre>
        </div>

        <div class="constraint">
            <h4>Chaque itinéraire visite une suite de ports fixes. Le port de départ et d'arrivée doit être le même [OCL] </h4>
            <pre>context Itineraire
    inv: Itineraire.allinstances() -> forAll(p : Port | p.origine -> includesAll(p.destination))</pre>
        </div>

        <div class="constraint">
            <h4>Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas [OCL]</h4>
            <pre>context Itineraire
    inv: self.transports -> forAll(p1, p2 : Paquebot | p1 = p2 implies p1.date_arrivee.toInteger()  <=  p2.date_depart.toInteger())</pre>
        </div>

        <h2>Tâche 3 : OCL</h2>
        <h3>OCL Admin - Contraintes</h3>
        
            <div class="constraint">
                <h4>Identifiants uniques pour Aéroports, Ports, Gares</h4>
                <pre>context Aeroport
        inv: Aeroport.allInstances() -> isUnique(ID)</pre>
            </div>
    
            <div class="constraint">
                <h4>Un aéroport/port/gare est identifié par trois lettres uniques à chaque aéroport [OCL]  (1.1.1, 1.2.1, 1.3.1)</h4>
                <pre>context Aeroport
        inv: self.ID.oclType() = String implies self.ID.size() = 3</pre>
            </div>
    
            <div class="constraint">
                <h4>La partie alphabétique de l'ID d'un vol est unique à chaque compagnie et la partie numérique est unique à chaque vol au sein de la même compagnie [OCL] </h4>
                <pre>context CompagnieAerienne 
        inv: self.liaisons.allInstances() -> forAll(v1, v2 : Vol | v1 <> v2 implies v1.ID.substring(1, 3) <> v2.ID.substring(1, 3))</pre>
                <pre>context CompagnieAerienne
        inv: self.liaisons.allInstances() -> forAll(v1, v2: Vol | v1<> v2 implies v1.ID.substring(4, 6) = v2.ID.substring(4, 6))</pre>
            </div>
    
            <div class="constraint">
                <h4>L'aéroport de départ et d'arrivée d'un vol doit être différent [OCL]</h4>
                <pre>context Vol
        inv: Vol.allinstances() -> forAll(a : Aeroport | ! a.origine -> includesAll(a.destination))</pre>
            </div>
    
            <div class="constraint">
                <h4>Tous les sièges d'une même section d'un avion/paquebot/train ont le même prix [OCL]  (1.1.5, 1.2.6, 1.3)</h4>
                <pre>context Section
        inv: self.places -> forAll(s1, s2 : Siege | s1 <> s2 implies s1.prix = s2.prix)</pre>
            </div>
    
            <div class="constraint">
                <h4>Un itinéraire ne peut pas durer plus de 21 jours [OCL]</h4>
                <pre>context Itineraire
        inv: self.date_depart.toInteger() - self.date_arrivee.toInteger() <= 21</pre>
            </div>
    
            <div class="constraint">
                <h4>Chaque itinéraire visite une suite de ports fixes. Le port de départ et d'arrivée doit être le même [OCL] </h4>
                <pre>context Itineraire
        inv: Itineraire.allinstances() -> forAll(p : Port | p.origine -> includesAll(p.destination))</pre>
            </div>
    
            <div class="constraint">
                <h4>Un paquebot peut être assigné à plusieurs itinéraires tant qu'ils ne se chevauchent pas [OCL]</h4>
                <pre>context Itineraire
        inv: self.transports -> forAll(p1, p2 : Paquebot | p1 = p2 implies p1.date_arrivee.toInteger()  <=  p2.date_depart.toInteger())</pre>
            </div>
    
        <h3>OCL Client - Contraintes</h3>
        
            <div class="constraint">
                <h4>Réservation d'une place (siège ou cabine) [OCL]</h4>
                <pre>context Reservation::reserver(client : Client, place : Place) : Reservation
      pre:
        place.status = Status::Libre
        client <> null
      post:
        place.status = Status::Reserve
        result.numero <> '' and
        Reservation.allInstances() -> forAll(r | r <> result implies r.numero <> result.numero)
        result.date = CurrentDateTime()
        result.client = client</pre>
            </div>
    
            <div class="constraint">
                <h4>Paiement d'une place (siège ou cabine) [OCL]</h4>
                <pre>context Reservation::payer()
      pre:
        self.est_paye = false
        CurrentDateTime() <= self.date + 24
      post:
        self.est_paye = true
        self.place.status = Status::Confirme</pre>
            </div>
    
            <div class="constraint">
                <h4>Calcul du nombre de places/cabines disponibles [OCL]</h4>
                <pre>context Liaison::getPlacesDisponibles(section : Section) : Integer
      body:
        self.transport.sections->select(s | s = section).places->select(p | p.status = Status::Libre)->size()</pre>
            </div>



    <h2>Tâche 4 : Justifications</h2>
        <h3>Diagramme de classe logiciel</h3>

            <ul>
                <li><strong>Deux contrôleurs :</strong> Le choix de mettre deux contrôleurs nous semble logique, car il s'agit d'un logiciel qui se veut être manipulé par deux vues différentes : Admin et Client. Un Client ne peut avoir les mêmes pouvoirs qu'un Admin, et un Admin ne souhaite pas effectuer les mêmes actions qu'un Client, mais plutôt gérer le système dans son ensemble.</li>
                <br>
                <li><strong>Distinction entre UserController et Client :</strong> La distinction entre UserController et Client s'est faite selon cette logique ; un utilisateur du logiciel n'est pas forcément un client, et peut simplement être à la recherche de renseignements sur les différentes propositions de voyage de notre application, sans pour autant effectuer de Réservation. En effet, un utilisateur est un client seulement lorsqu'il effectue une Réservation pour une Place, donc c'est à ce moment-là qu'une entité Client est instanciée, et que le UserController peut avoir accès aux informations client de son compte. On peut imaginer qu'un utilisateur deviendrait un client également lorsqu'il se créerait un compte, sans pour autant avoir effectué une réservation, ce qui instancierait également un objet Client. Mais rien ne fut spécifié dans la consigne à ce sujet.</li>
                <br>
                <li><strong>Pourquoi un Catalogue ?</strong> Dans notre application, pour effectuer une quelconque action, il faut d'abord passer par un catalogue proposant des Liaisons. C'est donc naturellement que s'inclut cette classe Catalogue dans notre design. Exemple : un client souhaite consulter les vols d'un Aéroport A à un Aéroport B ? Il doit d'abord naviguer à travers la liste d'aéroports de l'application pour trouver l'Aéroport A, puis à travers la liste des aéroports connectés à cet Aéroport A pour trouver Aéroport B, et ce n'est qu'à ce moment qu'il pourra y consulter tous les Vols reliant ces deux aéroports, pour éventuellement faire une réservation parmi ces vols, etc. TOUT passe par des tableaux de données, donc il fait du sens de rassembler tout ça dans une classe Catalogue. L'accès et les pouvoirs d'un Admin et d'un Client sur ce Catalogue seront distincts, et c'est pour ça que deux classes différentes seulement y accèdent : AdminController et UserController.</li>
                <br>
                <li><strong>Réservation de place :</strong> C'est beau tout ça, mais… un client veut réserver une Place dans une Liaison. Au vu du diagramme, n'est-ce pas un peu laborieux ? Ne devrions-nous pas passer par une grosse partie des classes du diagramme rien que pour ce faire ? Eh bien oui. Mais, dans un cas réel, c'est comme ça que ça marche. Pour réserver une Place, il faut d'abord nécessairement trouver la Liaison pour laquelle on veut réserver cette place. Rien que pour ça, ça prend au minimum les étapes de l'exemple ci-dessus. Une fois la Liaison trouvée, il faut y sélectionner sa classe/Section, qui dépend du Transport qui se charge de la liaison, et ensuite au sein de cette section, on y réserve sa Place. Est-ce qu'il est possible de raccourcir tout ce trajet vers la réservation, réalistiquement ? Non, car si on faisait cela, le client n'aurait pas toutes les informations entre ses mains pour effectuer une réservation en toute clarté. De plus, une réservation n'est pas une chose qui est censée se faire tant fréquemment, ni tant rapidement. C'est un dur labeur qui a tout son sens.</li>
                <br>
                <li><strong>Classe Client :</strong> Et c'est là qu'intervient la classe Client ! Un utilisateur qui est client aura accès à son compte donc à ses réservations, et pourra les consulter facilement et rapidement de par le lien direct. Ainsi, pas besoin de refaire tout le long chemin décrit plus haut pour accéder à ses réservations. Il suffit d'avoir accès au compte avec lequel on a réservé la place : un super shortcut !</li>
                <br>
                <li><strong>Héritages :</strong> On peut observer que d'un côté, Vol hérite de Liaison, puis qu'Itinéraire et Trajet héritent de LiaisonEscale qui hérite de Liaison. Simplement parce que les liaisons en train et en paquebot ont en commun les escales, contrairement au cas de Vol. Similairement, Section se divise en seulement deux sous-classes : SectionDisposable et SectionPaquebot. Cette fois, la similarité se fait entre les voyages en avion et en train, qui peuvent avoir une certaine disposition des sièges. Les trains, nécessairement une disposition étroite alors que les avions, tout un panel. Cela s'explique de par la nature des Places. En effet, dans un Paquebot, les sections contiennent des Cabines, et non des Sièges, comme ses deux homologues. C'est pour cela qu'on fait une nouvelle fois la distinction dans l'héritage de Places : impossible de disposer des Cabines selon la spécification de la consigne, puis ces Cabines peuvent contenir plusieurs personnes, contrairement aux Sièges qui sont limités à un seul individu. Pour ce qui est du reste des héritages, même si les différentes sous-classes ne semblent pas avoir tant de différences dans leur rôle au sein du logiciel, d'après la spécification, cela pourrait être amené à changer dans les futures itérations, et il serait plus prudent de les distinguer, pour l'heure.</li>
            </ul>


        <h3>Diagramme de paquets</h3>
            <ol>
            <h4>OrganisationVoyages</h4>
            <p> Ce paquet représente tout ce qui à rapport avec la gestion des liaisons proposées par notre application.</p>
            <ul>
                <li>"Organisation" indique que les classes qui le compose sont responsables de gérer toutes les liaisons, voyages disponibles.</li>
                <li>"Voyages" précise qu’il s’agit des déplacements. Ces voyages peuvent parfois contenir plusieurs liaisons, c'est donc un terme plus générique que "liaison".</li>
            </ul>
        
            <h4>Controle</h4>
            <p>Ce paquet regroupe les différentes vues de l'application.</p>
            <ul>
                <li>"AdminController" pour la vue Admin.</li>
                <li>"UserController" pour la vue utilisateur/client.</li>
            </ul>
    
            <h4>Réservations</h4>
            <p>Ce paquet concerne les réservations effectuées par les clients.</p>
            <ul>
                <li>"Réservations" est assez clair dans son objectif: concentrer les entités qui sont impliquées dans une réservation.</li>
            </ul>
        
            <h4>Transports</h4>
            <p>Ce paquet contient les moyens de transport eux-mêmes (avions, trains, paquebots), et la manière dont ils sont composés.</p>
            <ul>
                <li>"Transport" est un terme simple et direct pour désigner les véhicules, engins.</li>
                <li>Il n’inclut pas les itinéraires ou opérateurs et se focalise sur la composition, conception de ces engins, ce qui évite toute confusion.</li>
            </ul>
        
            <h4>Data</h4>
            <p>Ce paquet regroupe l’ensemble des stockeurs de données qui sont utiles à l'application.</p>
            <ul>
                <li>"Data" évoque bien qu'on y récupère les informations dont on a besoin.</li>
                <li>Il n’implique aucune gestion de quoi que ce soit, spécifie juste les entités qui contiennent les données des liaisons ce qui le rend clair.</li>
                <li>Le Catalogue est le point central des données, car il récupère toutes les données stockées dans les aéroports et compagnies.</li>
            </ul>
            </ol>
</body>
</html>